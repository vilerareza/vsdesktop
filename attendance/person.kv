#:import rgba kivy.utils.get_color_from_hex

<PersonList>:
    personListLayout: person_list
    chooseButton: choose_button
    dropPerson: drop_person
    profileCard: profile_card
    profileCardBox: profile_card_box
    profilePicture: profile_picture
    nameLabel: name_label
    jobLabel: job_label
    summaryBox: summary_box
    bottomBox: bottom_box
    dropPersonBox: drop_person_box
    id: person_list
    orientation: 'vertical'

    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1, 0.4)
        FloatLayout:
            id: profile_card_box
            size_hint: (0.2, 1)
            ProfileCard:
                id: profile_card
                padding: 16
                size_hint: 0.85, 0.85
                radius: [15]
                md_bg_color: rgba('#2aa3e2')
                pos_hint : {'center_y': 0.5, 'center_x': 0.5}
                x: root.x + 30

                BoxLayout:
                    orientation: 'vertical'
                    FloatLayout:
                        id: profile_picture
                        pict: ""
                        canvas:
                            Color:
                                rgb: 1, 1, 1
                            Ellipse:
                                pos: self.center_x - 65, self.center_y - 60
                                size: 130, 130
                                source: self.pict
                                angle_start: 0
                                angle_end: 360

                    Label:
                        id: name_label
                        text: 'Calum Hood'
                        bold: True
                        size_hint: 1, 0.15
                        pos_hint: {'center_y': 0.5, 'center_x': 0.5}

                    Label:
                        id: job_label
                        text: 'Guitarist'
                        size_hint: 1, 0.15
                        pos_hint: {'center_y': 0.5, 'center_x': 0.5}

        BoxLayout:
            id: detail_box
            orientation: 'vertical'
            size_hint: 0.8, 1                
            FloatLayout:
                id: drop_person_box
                size_hint: (1, 0.175)
                MDTextFieldRound:
                    id: choose_button
                    icon_right : 'magnify'
                    hint_text: 'Search Person'
                    size_hint: (None, None)
                    size: 250, 30
                    pos_hint: {'right': 0.95, 'center_y': 0.5}
                    color_active: 1,1,0,1
                    on_text: root.refresh_search_person() if choose_button.text == "" else root.search_person(self)                
            
            BoxLayout:
                id: summary_box
                orientation: 'vertical'
                size_hint: 1, 0.7
                RecycleView:
                    id: drop_person
                    viewclass: 'Button'
                    orientation: "vertical"
                    size_hint: (None, None)
                    width: 270
                    height: 180
                    pos_hint: {'right': 0.96, 'center_y': 0.4}
                    # on_release: root.show_profile(self)
                    # y: drop_person_box.y - 100
                    # x: choose_button.x 
                    canvas.before:
                        Color:
                            rgb: 1, 1, 0
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    RecycleBoxLayout:
                        # padding: dp(5)
                        default_size: 270, 30
                        default_size_hint: None, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
                        # canvas.before:
                        #     Color:
                        #         rgb: 1, 0, 0
                        #     Rectangle:
                        #         pos: self.pos
                        #         size: self.size

                
            BoxLayout:
                id: space_box
                orientation: 'horizontal'
                size_hint: 1, 0.125

    BoxLayout:
        id: bottom_box
        orientation: 'horizontal'
        size_hint: 1, 0.6
        

<ProfileCard@MDCard+RoundedRectangularElevationBehavior>:
    




